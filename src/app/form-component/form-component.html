<div class="form-container">
  <div class="form-header">
    <h2>Participants</h2>
    <button type="submit" class="add-btn" (click)="displayValue()">+ Add Participant</button>
  </div>

  <!-- <form [formGroup]="userForm">
    <div class="form-row">
      <div class="form-group">
        <label>Participant Name *</label>
        <input type="text" formControlName="name" placeholder="olivia@untitledui.com" />
      </div>

      <div class="form-group">
        <label>NDIS Number *</label>
        <input type="text" formControlName="ndis" placeholder="78797" />
      </div>

      <div class="form-group">
        <label>State *</label>
        <input type="text" formControlName="state" placeholder="Victoria" />
      </div>
    </div>

    <div class="form-row">
      <div class="form-group status-group">
        <label>Status *</label>
        <input type="text" formControlName="status" placeholder="Active" />
      </div>
    </div>
  </form> -->
  <form [formGroup]="userForm">
    <div class="form-row">
      <div class="form-group">
        <label>Participant Name *</label>
        <input
          type="text"
          formControlName="name"
          placeholder="Sarah Johnson"
          (input)="onNameInput($event)"
        />
        <small class="error" *ngIf="userForm.get('name')?.touched && userForm.get('name')?.invalid">
          Only alphabets and "." allowed
        </small>
      </div>

      <div class="form-group">
        <label>NDIS Number *</label>
        <input
          type="text"
          formControlName="ndis"
          placeholder="123456789"
          maxlength="9"
          (input)="onNdisInput($event)"
        />
        <small class="error" *ngIf="userForm.get('ndis')?.touched && userForm.get('ndis')?.invalid">
          Must be 9 digits only
        </small>
      </div>

      <div class="form-group">
        <label>State *</label>
        <input
          type="text"
          formControlName="state"
          placeholder="Victoria"
          (input)="onStateInput($event)"
        />
        <small class="error" *ngIf="userForm.get('state')?.touched && userForm.get('state')?.invalid">
          Alphabets only
        </small>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group status-group">
        <label>Status *</label>
        <input
          type="text"
          formControlName="status"
          placeholder="Active"
          (input)="onStatusInput($event)"
        />
        <small class="error" *ngIf="userForm.get('status')?.touched && userForm.get('status')?.invalid">
          Alphabets only
        </small>
      </div>
    </div>
  </form>

</div>

<div class="table-container">
  <table>
    <thead>
      <tr>
        <th></th>
        <th>Name</th>
        <th>Contact</th>
        <th>NDIS Number</th>
        <th>Status</th>
        <th>Service Type</th>
        <th>Last Contacted</th>
        <th>Staff</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of usersArray; let i = index">
        <td>
          <input type="checkbox" />
        </td>
        <td>{{ user.name }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.id }}</td>
        <td><span class="status" [ngClass]="getStatusClass(user.status)">{{ user.status }}</span></td>

        <td>Disability Care</td>
        <td>Jan 6, 2025</td>
        <td>Sarah Taylor</td>
      </tr>
    </tbody>
  </table>

  <div class="pagination">
    <button class="btn" (click)="goToPrevious()" [disabled]="currentPage === 1">Previous</button>
    <span>Page {{ currentPage }} of {{ totalPages }}</span>
    <button class="btn" (click)="goToNext()" [disabled]="currentPage === totalPages">Next</button>
  </div>

</div>

